<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
    <head>
        <meta charset="utf-8" />
        <title>Back to Cart Sample</title>
        <meta content="width=device-width,initial-scale=1" name="viewport" />

        <script src="../backToCart.js"></script>
        <link rel="stylesheet" href="/plugins/7650a7d6b4036954c6b6f2923a9364d41a04ab59/plugins/ca6244cac2b26497af2633e224dc391d8cae4e3b/plugins/d97c5565c3126cf4384f3cce3f76d1b801d1be5d/plugins/7ca573e26d3265124f7adb3038aa86157c40d535/plugins/d8a8b816a88430e58c724a646f7babe69861c6e5/plugins/b6e3bc2abef6de7ea0bc0b749a3fdaaee28eb075/plugins/d8a8b816a88430e58c724a646f7babe69861c6e5/plugins/b6e3bc2abef6de7ea0bc0b749a3fdaaee28eb075/plugins/2bdde6131923f2637202c3b24e765088946249a9/plugins/3f323786b1715c119c85f6a9ef3b51aca08eac0e/plugins/4ef33f31975276eb7e33692137c6884560f95609/plugins/f67455e5d5073d43871e75040de1dff3a08ff4dc/plugins/be26e462adbf9cac3d3a845cba429d0af2366c85/plugins/7dce4d9dd1cdc7a866c38fa2961c76bc90e4d18b/plugins/9381a381f4409099a3add485e9f7f79541693f63/plugins/67753bb8268b263518e6fb47ddc1c056cd175cfc/plugins/9564315768ac5d9c98cf69084b787738cef11862/plugins/54fa52e44c74da69664d060ecb633f09a896363f/plugins/b9740d99b873e92bc34193bccdf3bd2d07bf01fb/plugins/4df4fc7f42c8f09001997625ee8bae3a17c6c8a1/plugins/349dd2e7378b06f4945e1e28d72a74bff0ad244a/plugins/b1e284b232ae4d51eaefed32b2ee679090def078/plugins/d9b7b32e13dfe4d498693b6ad4c8f1a99e77defb/plugins/1ce5ae541666d01ba3623ae63dc61f442df54a51/plugins/f2e5ef7d03243d6578976d9569b1f442a1ac90ea/plugins/8a3630ed1b535bb7a74f90c9a0abe765629a13f1/plugins/465aa08b953b23f8f06e2ac301c6cc922f42970e/plugins/7a9f5927dffe5242443406afc1b636e073772d99/plugins/353609ca737d66ad4297518618a40d74b18bd2f4/plugins/813cc08ea496bce11c0e67a0e4ca04f5796f5086/plugins/43dcafff1d7f2569a7458cce5b53ff78ff08457d/plugins/39906dfc18356b51e19116d889e11e1ad5a62faa/plugins/29d0b43e932d93c8c7182020ecf37e0a60d7f1a3/plugins/3c6622e4318063bf89ba68de73b19ba5e3317640/plugins/20e00b5ce1c7183a52bcb7c394a06d9d8d00a3b2/plugins/274ba3385f0668445549d02e2d57d68e726e11c4/plugins/250c972f2cb29e3ac3b82fab4a0991cf8de94ae7/plugins/c3fd8be10b9f846e04b596110e27150e8798f3d5/plugins/5aaf1f3e2939d4d563d515af3116654791249479/plugins/7d1d78ac2343169d5bba01f9387cf4bf0bacae52/plugins/5534648a220194bd2de4e1b7f98f610e5efbb302/plugins/e67e770e8c86de76afdf386688f7fe7c0fee03c1/plugins/869204a33537047d3f07f82f06d13f7ae56ba75e/plugins/82118a4d08a209e23ee6130600c3d32af5bc426b/plugins/9df99a22e74ca5f280fcfc62a80009ea86ec4bcf/plugins/aae2716c7a6d34c006e3003294410be76897741f/plugins/535a07b778e43c844b2f3bf2c70cc97895962dde/plugins/4ba324c0453023c5e7bfce6e766bc2fce634933f/plugins/874cf8a270932e2b0eeb06bfc18408b969e3fe30/plugins/47fa11c3b2a7cd637bae1f33ed210b4fca0e29d0/rv-styles.css" />

        <style>
            #sample-map {
                height: 100%;
            }
        </style>
    </head>
    <body>
        <div
            id="sample-map"
            is="rv-map"
            class="myMap"
            data-rv-config="config.rcs.[lang].json"
            data-rv-langs='["en-CA", "fr-CA"]'
            data-rv-service-endpoint="http://section917.cloudapp.net:8000/"
            data-rv-keys=""
            data-rv-wait="true"
            rv-plugins="backToCart"
        >
            <noscript>
                <p>
                    This interactive map requires JavaScript. To view this content please enable JavaScript in your
                    browser or download a browser that supports it.
                </p>
                <p></p>

                <p>
                    Cette carte interactive nécessite JavaScript. Pour voir ce contenu, s'il vous plaît, activer
                    JavaScript dans votre navigateur ou télécharger un navigateur qui le prend en charge.
                </p>
            </noscript>
        </div>

        <script
            src="https://code.jquery.com/jquery-2.2.4.min.js"
            integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
            crossorigin="anonymous"
        ></script>
        <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=default,Object.entries,Object.values,Array.prototype.find,Array.prototype.findIndex,Array.prototype.values,Array.prototype.includes,HTMLCanvasElement.prototype.toBlob,String.prototype.repeat,String.prototype.codePointAt,String.fromCodePoint,NodeList.prototype.@@iterator,Promise,Promise.prototype.finally"></script>
        <script src="/legacy-api.js"></script>
        <script src="/plugins/7650a7d6b4036954c6b6f2923a9364d41a04ab59/plugins/ca6244cac2b26497af2633e224dc391d8cae4e3b/plugins/d97c5565c3126cf4384f3cce3f76d1b801d1be5d/plugins/7ca573e26d3265124f7adb3038aa86157c40d535/plugins/d8a8b816a88430e58c724a646f7babe69861c6e5/plugins/b6e3bc2abef6de7ea0bc0b749a3fdaaee28eb075/plugins/d8a8b816a88430e58c724a646f7babe69861c6e5/plugins/b6e3bc2abef6de7ea0bc0b749a3fdaaee28eb075/plugins/2bdde6131923f2637202c3b24e765088946249a9/plugins/3f323786b1715c119c85f6a9ef3b51aca08eac0e/plugins/4ef33f31975276eb7e33692137c6884560f95609/plugins/f67455e5d5073d43871e75040de1dff3a08ff4dc/plugins/be26e462adbf9cac3d3a845cba429d0af2366c85/plugins/7dce4d9dd1cdc7a866c38fa2961c76bc90e4d18b/plugins/9381a381f4409099a3add485e9f7f79541693f63/plugins/67753bb8268b263518e6fb47ddc1c056cd175cfc/plugins/9564315768ac5d9c98cf69084b787738cef11862/plugins/54fa52e44c74da69664d060ecb633f09a896363f/plugins/b9740d99b873e92bc34193bccdf3bd2d07bf01fb/plugins/4df4fc7f42c8f09001997625ee8bae3a17c6c8a1/plugins/349dd2e7378b06f4945e1e28d72a74bff0ad244a/plugins/b1e284b232ae4d51eaefed32b2ee679090def078/plugins/d9b7b32e13dfe4d498693b6ad4c8f1a99e77defb/plugins/1ce5ae541666d01ba3623ae63dc61f442df54a51/plugins/f2e5ef7d03243d6578976d9569b1f442a1ac90ea/plugins/8a3630ed1b535bb7a74f90c9a0abe765629a13f1/plugins/465aa08b953b23f8f06e2ac301c6cc922f42970e/plugins/7a9f5927dffe5242443406afc1b636e073772d99/plugins/353609ca737d66ad4297518618a40d74b18bd2f4/plugins/813cc08ea496bce11c0e67a0e4ca04f5796f5086/plugins/43dcafff1d7f2569a7458cce5b53ff78ff08457d/plugins/39906dfc18356b51e19116d889e11e1ad5a62faa/plugins/29d0b43e932d93c8c7182020ecf37e0a60d7f1a3/plugins/3c6622e4318063bf89ba68de73b19ba5e3317640/plugins/20e00b5ce1c7183a52bcb7c394a06d9d8d00a3b2/plugins/274ba3385f0668445549d02e2d57d68e726e11c4/plugins/250c972f2cb29e3ac3b82fab4a0991cf8de94ae7/plugins/c3fd8be10b9f846e04b596110e27150e8798f3d5/plugins/5aaf1f3e2939d4d563d515af3116654791249479/plugins/7d1d78ac2343169d5bba01f9387cf4bf0bacae52/plugins/5534648a220194bd2de4e1b7f98f610e5efbb302/plugins/e67e770e8c86de76afdf386688f7fe7c0fee03c1/plugins/869204a33537047d3f07f82f06d13f7ae56ba75e/plugins/82118a4d08a209e23ee6130600c3d32af5bc426b/plugins/9df99a22e74ca5f280fcfc62a80009ea86ec4bcf/plugins/aae2716c7a6d34c006e3003294410be76897741f/plugins/535a07b778e43c844b2f3bf2c70cc97895962dde/plugins/4ba324c0453023c5e7bfce6e766bc2fce634933f/plugins/874cf8a270932e2b0eeb06bfc18408b969e3fe30/plugins/47fa11c3b2a7cd637bae1f33ed210b4fca0e29d0/rv-main.js"></script>

        <script>
            const baseUrl = window.location.href.split('?')[0] + '?keys={RV_LAYER_LIST}';

            /* // Example of programmatically setting the catalogue URL
            RZ.mapAdded.subscribe(function(mapi) {
                backToCart.setCatalogueUrl('sample-map', baseUrl);
            });*/

            function queryStringToJSON(q) {
                var pairs = q.search.slice(1).split('&');
                var result = {};
                pairs.forEach(function(pair) {
                    pair = pair.split('=');
                    result[pair[0]] = decodeURIComponent(pair[1] || '');
                });
                return JSON.parse(JSON.stringify(result));
            }
            // grab & process the url
            var queryStr = queryStringToJSON(document.location);
            var keys = queryStr.keys;
            if (keys) {
                // turn keys into an array, pass them to the map
                var keysArr = keys.split(',');
                RV.getMap('sample-map').restoreSession(keysArr);
            } else {
                var bookmark = queryStr.rv;
                RV.getMap('sample-map').initialBookmark(bookmark);
            }
        </script>
    </body>
</html>
